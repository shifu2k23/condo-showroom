You are a senior Laravel + Livewire engineer. Implement an ADMIN-ONLY AI Description Maker that reads uploaded unit images stored locally + unit location text and generates a preview description draft, then allows admin to click Apply to set the unit description.

STACK:
- Laravel (latest stable)
- Livewire (latest stable)
- Laravel default auth already installed (admin logs in at /login)
- Pest for tests
- MySQL
- Storage is local `public` disk (FILESYSTEM_DISK=public)
- OpenAI API key already configured in .env and config/services.php (Step 1–3 done)

ABSOLUTE SECURITY REQUIREMENTS:
- NEVER expose OPENAI_API_KEY in any client-side code (Blade/Livewire/JS).
- Backend calls only (server-to-server).
- Do not log secrets.
- Do not store raw base64 images in DB.
- Rate limit the AI generation endpoint per admin user.

UX REQUIREMENT:
- Admin clicks “Generate AI Description” -> sees preview -> can click “Apply” to copy into description textarea.
- Do NOT auto-apply; preview first.

SCOPE:
- Admin-only feature inside the existing Admin Unit Create/Edit page (Livewire form).
- No changes to customer/public logic.

========================================================
1) DATA MODEL CHANGES (MIGRATION)
========================================================
Add optional AI draft fields to units table:
- ai_description_draft (LONGTEXT, nullable)
- ai_description_meta (JSON, nullable)  // store tone, length, model, generated_at
- ai_description_generated_at (timestamp, nullable)

Do NOT alter existing columns.

========================================================
2) ADMIN UNIT FORM UI (LIVEWIRE)
========================================================
In the Admin Unit Create/Edit Livewire component (e.g., AdminUnitForm):
Add a new “AI Description” card/section containing:

A) Controls:
- Tone select: Luxury / Neutral / Friendly (default: Luxury)
- Length select: Short / Medium / Long (default: Medium)
- Button: “Generate AI Description”
- Show a loading state while generating

B) Preview:
- Show ai_description_draft in a read-only preview box (formatted with paragraphs + bullets)
- Buttons:
  - “Apply to Description” (copies draft into description field)
  - “Regenerate” (calls generation again)
  - “Clear Draft” (sets draft to null)

C) Validation behavior:
- If unit has no images yet, show friendly error:
  “Please upload at least 1 photo before generating.”
- Require a location_text field (or existing location field) for better output:
  If location missing, allow generation but include warning and ask admin to add location.

Implementation details:
- Use wire:click handlers.
- Keep this admin-only; do not expose on public pages.

========================================================
3) IMAGE INPUT STRATEGY (NO NGROK, LOCAL ONLY)
========================================================
Because images are local and not publicly accessible, implement vision input using base64:
- Read the first N images (N=3 by default) from storage disk.
- Convert each to data URL:
  data:image/jpeg;base64,....
- Only allow jpg/jpeg/png/webp.
- Limit each image max size read to 2MB for prompt cost/performance.
- If an image is larger than 2MB, downscale is optional; otherwise skip with a warning.

Do NOT store base64 in DB. Generate base64 in memory only during request.

========================================================
4) OPENAI INTEGRATION (BACKEND SERVICE)
========================================================
Create a service:
- app/Services/Ai/UnitDescriptionAiService.php

Responsibilities:
- build a strict prompt
- call OpenAI API from backend only
- request structured JSON output
- parse and validate returned JSON
- return a DTO-like array:
  - tagline
  - highlights[]
  - full_description
  - detected_visual_features[]
  - warnings[] (optional)
- convert result into a draft string formatted for textarea:
  e.g.
  Tagline line
  Bullets
  Paragraph(s)

Model:
- Use config('services.openai.model')

OpenAI request must include:
- text instructions with strong guardrails:
  - “Do not invent amenities not visible or provided.”
  - “If unsure, say ‘not specified’.”
  - “No personal data.”
  - “Output valid JSON only.”
- include unit info: title/name, category, location text, known amenities (if exists), pricing mode (optional)
- include image inputs as base64 data URLs

Error handling:
- If OpenAI fails, return controlled error message to UI.
- No leaking provider response dumps to browser.

========================================================
5) RATE LIMITING (ADMIN)
========================================================
Protect generation to prevent abuse:
- Per-admin user: 10 requests per minute
Use RateLimiter::attempt() so failures count too.

Return a friendly UI message on throttling:
“Too many attempts. Please try again in a minute.”

========================================================
6) AUDIT LOGGING
========================================================
If you have an audit logger, record:
- action: AI_DESCRIPTION_GENERATED
- user_id
- unit_id
- meta: tone, length, image_count used
Do NOT log base64 or any raw image content.

========================================================
7) PEST TESTS
========================================================
Add tests:
1) Non-admin cannot generate AI description (403)
2) Admin can generate AI description when unit has images
3) Validation fails when no images
4) Rate limiting works (after N attempts => 429 or controlled error)
5) “Apply” action updates Livewire description field (unit description not persisted until save, unless your form saves immediately)

Mock OpenAI calls:
- Do not call real OpenAI in tests.
- Use Http::fake() and return a deterministic JSON.

========================================================
8) IMPLEMENTATION DETAILS
========================================================
- Use Laravel Http client (Http::withToken()).
- Put OpenAI base URL in config or use standard.
- Ensure requests use timeouts and retries responsibly.
- Keep all secrets server-side.
- Keep code clean and minimal.

========================================================
9) DELIVERABLES
========================================================
Provide:
- Migration file
- Updated Unit model (casts for ai_description_meta json)
- UnitDescriptionAiService
- Livewire component changes (properties + actions + blade view section)
- Pest tests with Http::fake()

IMPORTANT:
- Do NOT modify customer/public UI.
- Do NOT expose keys in frontend.
- Use preview then Apply workflow.
